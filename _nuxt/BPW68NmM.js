import{a as k,B as f}from"./DJrXkGIA.js";import{g,_ as b,c,o as r,a as l,O as d,t as h,T as u,w as B,N as v,W as S,A as y,d as I}from"#entry";const V=g({name:"BaseTextBox",components:{BaseButton:f,BaseIcon:k},emits:["update:modelValue","submit"],props:{modelValue:{type:[String,Number]},name:String,label:String,prependIcon:String,appendIcon:String,autofocus:Boolean,placeholder:String,type:{type:String,default:"text"},button:String,error:String,mask:String},data(){return{innerValue:this.modelValue??"",masked:!1}},computed:{valueProxy:{get(){return this.modelValue!==void 0?this.modelValue:this.innerValue},set(e){this.innerValue=e,this.$emit("update:modelValue",e)}}},methods:{applyMask(e){if(!this.mask)return e;const s=this.mask,n=e??"";let p="",o=0,i=0;for(;o<s.length&&i<n.length;){const t=s[o],a=n[i];t==="#"?(/\d/.test(a)&&(p+=a,o++),i++):t==="A"?(/[a-zA-Z]/.test(a)&&(p+=a,o++),i++):t==="*"?(p+=a,o++,i++):(p+=t,a===t&&i++,o++)}return p},onSubmit(e){const s=this.modelValue!==void 0?this.modelValue:this.innerValue;this.$emit("submit",s,e)},onInput(e){const s=e.target?.value??"",n=this.mask?this.applyMask(s):s;this.mask&&e.target&&(e.target.value=n),this.valueProxy=this.type==="number"&&!this.mask?Number(n):n}},created(){this.masked=this.type==="password"},watch:{modelValue(e){if(e!==void 0){const s=typeof e=="number"?String(e):e;this.innerValue=this.mask?this.applyMask(s):e}}}}),C={class:"text-box-wrapper"},w={class:"header",style:{display:"flex","align-items":"start","padding-right":"1em"}},$={key:0,class:"caption-container",style:{flex:"auto 1 1"}},z={class:"caption"},N={key:1,class:"error-container",style:{display:"flex",gap:".2em","justify-content":"flex-end","font-size":"14px",color:"red",opacity:".6","line-height":"1.4em"}},T={class:"error-message"},A={class:"text-box-area"},M=["name","type","placeholder","autofocus","value"];function P(e,s,n,p,o,i){const t=y("BaseIcon"),a=y("BaseButton");return r(),c("div",{class:S(["base-text-box",{invalid:e.error}]),onKeydown:s[2]||(s[2]=v((...m)=>e.onSubmit&&e.onSubmit(...m),["enter"]))},[l("label",null,[l("div",C,[l("header",w,[e.label?(r(),c("div",$,[l("span",z,h(e.label),1)])):d("",!0),e.error?(r(),c("div",N,[l("span",T,h(e.error),1)])):d("",!0)]),l("div",A,[e.prependIcon?(r(),u(t,{key:0,class:"prepend-icon",size:"1.4em",name:e.prependIcon},null,8,["name"])):d("",!0),l("input",{name:e.name,type:e.type==="password"?e.masked?"password":"text":e.type,placeholder:e.placeholder,autofocus:e.autofocus,value:e.valueProxy,onInput:s[0]||(s[0]=(...m)=>e.onInput&&e.onInput(...m))},null,40,M),e.type==="password"?(r(),u(t,{key:1,onClick:s[1]||(s[1]=m=>e.masked=!e.masked),class:"append-icon",size:"1.4em",name:e.masked?"mdi-eye-off":"mdi-eye"},null,8,["name"])):e.appendIcon?(r(),u(t,{key:2,class:"append-icon",size:"1.4em",name:e.appendIcon},null,8,["name"])):d("",!0),e.button?(r(),u(a,{key:3,onClick:e.onSubmit,variant:"secondary"},{default:B(()=>[I(h(e.button),1)]),_:1},8,["onClick"])):d("",!0)])])])],34)}const K=Object.assign(b(V,[["render",P]]),{__name:"CommonBaseTextBox"});export{K as B};
