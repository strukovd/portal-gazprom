import{B as M}from"./CUozBVGZ.js";import{a as F,B as K}from"./-_DaJmk0.js";import{g as A,_ as O,c as f,o as d,a as l,O as D,t as S,b as r,A as q,U as B,S as G,T as L,Z as W,F as k,r as z,N as Z,M as H,e as Q,$ as J,m as U,V as X,d as u,j as t,Q as N,w as Y,k as c}from"#entry";import{B as a}from"./BsjxlfTr.js";const _=A({name:"BaseTextBox",emits:["update:modelValue"],components:{BaseIcon:F},props:{modelValue:[String,Number],label:String,prependIcon:String,appendIcon:String,placeholder:String,height:String,resize:{type:String,default:"none"},type:{type:String,default:"text"},error:String},data(){return{hideValue:!1}},methods:{onInput(n){this.$emit("update:modelValue",n.target?.value??"")}},created(){this.hideValue=this.type==="password"}}),ee={class:"text-box-wrapper"},le={class:"header",style:{display:"flex","align-items":"center","padding-right":"1em"}},oe={key:0,class:"caption-container",style:{flex:"auto 1 1"}},se={class:"caption"},te={key:1,class:"error-container",style:{display:"flex",gap:".2em","justify-content":"flex-end","font-size":"14px",color:"red",opacity:".6","line-height":"1.4em"}},ne={class:"error-message"},re={class:"text-box-section"},ue=["type","placeholder","value"];function ae(n,i,m,R,p,T){const y=q("BaseIcon");return d(),f("div",{class:L(["text-box",{invalid:n.error}])},[l("label",null,[l("div",ee,[l("header",le,[n.label?(d(),f("div",oe,[l("span",se,S(n.label),1)])):D("",!0),n.error?(d(),f("div",te,[r(y,{name:"mdi-alert-decagram"}),l("span",ne,S(n.error),1)])):D("",!0)]),l("section",re,[n.prependIcon?(d(),B(y,{key:0,class:"prepend-icon",name:n.prependIcon},null,8,["name"])):D("",!0),l("textarea",{style:G({height:n.height,resize:n.resize}),type:n.type,placeholder:n.placeholder,value:n.modelValue,onInput:i[0]||(i[0]=(...V)=>n.onInput&&n.onInput(...V))},null,44,ue),n.appendIcon?(d(),B(y,{key:1,class:"append-icon",name:n.appendIcon},null,8,["name"])):D("",!0)])])])],2)}const x=Object.assign(O(_,[["render",ae]]),{__name:"CommonBaseMemo"}),ie=A({emits:["update:modelValue"],props:{n:{required:!0,type:Number},modelValue:{required:!0,type:Array}},data(){return{rows:[]}},created(){this.rows=[this.createEmptyRow(this.n)]},methods:{createEmptyRow(n){return Array.from({length:n},()=>"")},trim(n){return(n??"").replace(/\u00A0/g," ").replace(/\u200B/g,"").replace(/<br\s*\/?>/gi,`
`).replace(/\s+/g," ").trim()},isRowEmpty(n){return n.every(i=>this.trim(i)==="")},ensureInvariants(){if(this.rows.length>1){const n=this.rows.length-1;this.rows=this.rows.filter((i,m)=>m===n||!this.isRowEmpty(i))}this.rows.length===0?this.rows.push(this.createEmptyRow(this.n)):this.isRowEmpty(this.rows[this.rows.length-1])||this.rows.push(this.createEmptyRow(this.n))},onInput(n,i,m){const R=n.target,p=this.trim(R.textContent??R.innerText);this.rows[i][m]=p,this.$emit("update:modelValue",this.rows),this.ensureInvariants()},focusNext(n,i){const m=this.rows.length-1;n===m&&!this.isRowEmpty(this.rows[n])&&this.rows.push(this.createEmptyRow(this.n));let R=n,p=i+1;p>=this.n&&(p=0,R=Math.min(n+1,this.rows.length-1)),queueMicrotask(()=>{const T=document.querySelectorAll("tbody td")[R*this.n+p];T&&(T.focus(),this.placeCaretAtEnd(T))})},placeCaretAtEnd(n){const i=document.createRange();i.selectNodeContents(n),i.collapse(!1);const m=window.getSelection();m?.removeAllRanges(),m?.addRange(i)}}}),de=["onFocusout","onKeydown"];function me(n,i,m,R,p,T){return d(),f(k,null,[W(n.$slots,"default"),(d(!0),f(k,null,z(n.rows,(y,V)=>(d(),f("tr",{key:V},[(d(!0),f(k,null,z(y,(E,P)=>(d(),f("td",{key:`${V}:${P}`,contenteditable:"",spellcheck:"false",onFocusout:o=>n.onInput(o,V,P),onKeydown:Z(H(o=>n.focusNext(V,P),["prevent"]),["enter"]),class:"cell"},S(n.rows[V][P]),41,de))),128))]))),128))],64)}const h=Object.assign(O(ie,[["render",me]]),{__name:"DynamicRow"}),pe={class:"construct-pass-page"},we={class:"documents"},be={class:"document"},Ce={class:"flex-line"},fe={class:"flex-line"},Re={class:"flex-line"},Te={class:"flex-line"},Ve={class:"flex-line"},ge={class:"flex-line"},ye={style:{"list-style-type":"lower-latin","margin-top":".4em"}},Pe={style:{"font-size":".8em","max-width":"100%"}},De={key:0,class:"error",style:{"margin-top":"1em",color:"red"}},ve={style:{margin:"1.4em 0 5em",display:"flex","justify-content":"flex-end",gap:"1em"}},Ee=A({__name:"construct-pass",setup(n){const{$api:i}=Q(),R=J().query.issueKey,p=U(""),T=U(!1);function y(w){const e={},s={testedAirPressureDate:"checkDate1",airPressure:"airPressure1",airPressureCm2:"airPressure2",soapEmulsionPressure:"pressure1",soapEmulsionPressureCm2:"pressure2",waterColumn:"pressure3",tightnessAirPressure:"pressure4",tightnessDuration:"duration",tightnessPressureDrop:"pressureDown1",tightnessPressureDropCm2:"pressureDown2",tightnessPermissiblePressureDrop:"pressureDown3",tightnessPermissiblePressureDropCm2:"pressureDown4"};return Object.keys(w).forEach(b=>{const C=s[b]??b;e[C]=w[b]??""}),e}function V(){T.value=!0;const w=y(o),e=P(v.value,"firstTable"),s=P($.value,"secondTable"),b=c().token,C={issueKey:R,data:{...w,...e,...s}};E(C.data),console.log("body",C),i("v1/portal/generatePassport",{method:"POST",headers:{Authorization:`Bearer ${b}`},body:C}).then(g=>{}).catch(g=>{console.error(g),p.value=g.data.message}).finally(()=>{T.value=!1})}function E(w){["smrName","serviceName","address","characteristics","certificateList","firstTableRow1Column1","firstTableRow1Column2","firstTableRow1Column3","firstTableRow1Column4","firstTableRow1Column5","firstTableRow1Column6","firstTableRow2Column1","firstTableRow2Column2","firstTableRow2Column3","firstTableRow2Column4","firstTableRow2Column5","firstTableRow2Column6","firstTableRow3Column1","firstTableRow3Column2","firstTableRow3Column3","firstTableRow3Column4","firstTableRow3Column5","firstTableRow3Column6","firstTableRow4Column1","firstTableRow4Column2","firstTableRow4Column3","firstTableRow4Column4","firstTableRow4Column5","firstTableRow4Column6","firstTableRow5Column1","firstTableRow5Column2","firstTableRow5Column3","firstTableRow5Column4","firstTableRow5Column5","firstTableRow5Column6","firstTableRow6Column1","firstTableRow6Column2","firstTableRow6Column3","firstTableRow6Column4","firstTableRow6Column5","firstTableRow6Column6","firstTableRow7Column1","firstTableRow7Column2","firstTableRow7Column3","firstTableRow7Column4","firstTableRow7Column5","firstTableRow7Column6","firstTableRow8Column1","firstTableRow8Column2","firstTableRow8Column3","firstTableRow8Column4","firstTableRow8Column5","firstTableRow8Column6","firstTableRow9Column1","firstTableRow9Column2","firstTableRow9Column3","firstTableRow9Column4","firstTableRow9Column5","firstTableRow9Column6","firstTableRow10Column1","firstTableRow10Column2","firstTableRow10Column3","firstTableRow10Column4","firstTableRow10Column5","firstTableRow10Column6","performingWorkPerson","checkDate1","airPressure1","airPressure2","pressure1","pressure2","checkDate2","presure3","presure4","duration","presureDown1","presureDown2","presureDown3","presureDown4","workSupervisor","gasRepresentative","organizationName","projectReleaseDate","drawingNumber","buildStartDate","buildEndDate","engineerSOVGO","secondTableRow1Column1","secondTableRow1Column2","secondTableRow1Column3","secondTableRow1Column4","secondTableRow1Column5","secondTableRow1Column6","secondTableRow1Column7","secondTableRow1Column8","secondTableRow1Column9","secondTableRow1Column10","secondTableRow1Column11","secondTableRow2Column1","secondTableRow2Column2","secondTableRow2Column3","secondTableRow2Column4","secondTableRow2Column5","secondTableRow2Column6","secondTableRow2Column7","secondTableRow2Column8","secondTableRow2Column9","secondTableRow2Column10","secondTableRow2Column11","secondTableRow3Column1","secondTableRow3Column2","secondTableRow3Column3","secondTableRow3Column4","secondTableRow3Column5","secondTableRow3Column6","secondTableRow3Column7","secondTableRow3Column8","secondTableRow3Column9","secondTableRow3Column10","secondTableRow3Column11","secondTableRow4Column1","secondTableRow4Column2","secondTableRow4Column3","secondTableRow4Column4","secondTableRow4Column5","secondTableRow4Column6","secondTableRow4Column7","secondTableRow4Column8","secondTableRow4Column9","secondTableRow4Column10","secondTableRow4Column11"].forEach(s=>{w[s]=w[s]??""})}function P(w,e){const s={};for(let b=0;b<w.length;b++){const C=w[b];if(!(!C||!Array.isArray(C)))for(let g=0;g<C.length;g++){const j=C[g];s[`${e}Row${b+1}Column${g+1}`]=j??""}}return s}const o=X({}),v=U([]),$=U([]),I=new Date().toLocaleDateString("fr-CA");return o.testedAirPressureDate=I,o.airPressure="0.1",o.airPressureCm2="1.0",o.soapEmulsionPressure="0.005",o.soapEmulsionPressureCm2="0.05",o.waterColumn="500мм.",o.tightnessAirPressure="0.05",o.tightnessAirPressureCm2="-",o.tightnessDuration="5 мин.",o.tightnessPressureDrop="0.005",o.tightnessPressureDropCm2="-",o.tightnessPermissiblePressureDrop="20 мм.",o.tightnessPermissiblePressureDropCm2="-",(w,e)=>(d(),f("section",pe,[l("div",we,[l("article",be,[e[62]||(e[62]=l("h1",{class:"center"},"СТРОИТЕЛЬНЫЙ ПАСПОРТ № 2025-0001",-1)),e[63]||(e[63]=l("h1",{class:"center"},"ВНУТРИДОМОВОГО (ВНУТРИЦЕХОВОГО) ГАЗООБОРУДОВАНИЯ,",-1)),l("div",Ce,[e[29]||(e[29]=u(" смонтированного ",-1)),r(M,{emitValue:"",modelValue:t(o).smrName,"onUpdate:modelValue":e[0]||(e[0]=s=>t(o).smrName=s),placeholder:"Организация",items:[{key:"BISHKEKGAZ",value:"филиала «Бишкекгаз» ОсОО «Газпром Кыргызстан»"},{key:"GAZKOMM",value:"частной организацией ОсОО «Газкомм»"}]},null,8,["modelValue"])]),e[64]||(e[64]=l("h2",{class:"center"},"Служба по обслуживанию внутридомового газового оборудования",-1)),l("div",fe,[e[30]||(e[30]=u("по адресу: ",-1)),r(a,{modelValue:t(o).address,"onUpdate:modelValue":e[1]||(e[1]=s=>t(o).address=s),placeholder:"Адрес абонента"},null,8,["modelValue"])]),e[65]||(e[65]=l("h2",{class:"center"},"1.ХАРАКТЕРИСТИКА ГАЗООБОРУДОВАНИЯ",-1)),e[66]||(e[66]=l("p",null,"Указывается для внутридомового газооборудования – число квартир, тип и число установленных газовых приборов, общая протяженность газопровода и число запорных устройств на них; для внутрицехового оборудования общая протяженность газопровода, тип и число установленного газооборудования, рабочее давление газа",-1)),r(x,{modelValue:t(o).characteristics,"onUpdate:modelValue":e[2]||(e[2]=s=>t(o).characteristics=s),resize:"vertical",placeholder:"Начните вводить сюда"},null,8,["modelValue"]),e[67]||(e[67]=l("h2",{class:"center"},"2. ПЕРЕЧЕНЬ ПРИЛАГАЕМЫХ СЕРТИФИКАТОВ, ТЕХНИЧЕСКИХ ПАСПОРТОВ И ДРУГИХ ДОКУМЕНТОВ, УДОСТОВЕРЯЮЩИХ КАЧЕСТВО МАТЕРИАЛОВ И ОБОРУДОВАНИЯ",-1)),r(x,{modelValue:t(o).certificateList,"onUpdate:modelValue":e[3]||(e[3]=s=>t(o).certificateList=s),resize:"vertical",placeholder:"Начните вводить сюда"},null,8,["modelValue"]),e[68]||(e[68]=l("h2",{class:"center"},"3. ДАННЫЕ О СВАРКЕ СТЫКОВ ГАЗОПРОВОДА",-1)),l("table",null,[e[31]||(e[31]=l("thead",null,[l("tr",null,[l("td",{rowspan:"2"},"ФИО сварщика"),l("td",{colspan:"2"},"Клеймо и номер удостоверения сварщика"),l("td",{rowspan:"2"},"Сварено стыков"),l("td",{rowspan:"2"},"Дата проведения сварочных работ")]),l("tr",null,[l("td",{colspan:"0.5"},"Диаметр, мм"),l("td",{colspan:"0.5"},"Число, шт.")])],-1)),l("tbody",null,[r(h,{modelValue:t(v),"onUpdate:modelValue":e[4]||(e[4]=s=>N(v)?v.value=s:null),n:5},null,8,["modelValue"])])]),e[69]||(e[69]=l("br",null,null,-1)),r(a,{modelValue:t(o).performingWorkPerson,"onUpdate:modelValue":e[5]||(e[5]=s=>t(o).performingWorkPerson=s),placeholder:"Должность, подпись, инициалы, фамилия производителя работ"},null,8,["modelValue"]),e[70]||(e[70]=l("h2",{class:"center"},"4. ПРОВЕРКА И ОЧИСТКА ВНУТРЕННЕЙ ПОЛОСТИ ГАЗОПРОВОДА ИСПЫТАНИЕ ГАЗОПРОВОДА НА ПРОЧНОСТЬ И ГЕРМЕТИЧНОСТЬ",-1)),l("ol",null,[e[52]||(e[52]=l("li",null,"Перед монтажом газопровода трубы осмотрены и внутренняя полость их очищена от грязи, окалины и других засорений",-1)),l("li",null,[l("p",null,[r(a,{modelValue:t(o).testedAirPressureDate,"onUpdate:modelValue":e[6]||(e[6]=s=>t(o).testedAirPressureDate=s),type:"date"},null,8,["modelValue"]),e[32]||(e[32]=u(" газопровод испытан на прочность давлением воздуха ",-1)),r(a,{modelValue:t(o).airPressure,"onUpdate:modelValue":e[7]||(e[7]=s=>t(o).airPressure=s)},null,8,["modelValue"]),e[33]||(e[33]=u(" МПа ",-1)),r(a,{modelValue:t(o).airPressureCm2,"onUpdate:modelValue":e[8]||(e[8]=s=>t(o).airPressureCm2=s)},null,8,["modelValue"]),e[34]||(e[34]=u(" кгс/см",-1)),e[35]||(e[35]=l("sup",null,"2",-1)),e[36]||(e[36]=u(" в течении 1 ч на участке от отключающего устройства на вводе до кранов на отпусках к оборудованию (приборам). Испытание на прочность газопровода выдержал с внешним осмотром и поверкой сварных и фланцевых соединений с помощью мыльной эмульсии после давления до ",-1)),r(a,{modelValue:t(o).soapEmulsionPressure,"onUpdate:modelValue":e[9]||(e[9]=s=>t(o).soapEmulsionPressure=s)},null,8,["modelValue"]),e[37]||(e[37]=u(" МПа ",-1)),r(a,{modelValue:t(o).soapEmulsionPressureCm2,"onUpdate:modelValue":e[10]||(e[10]=s=>t(o).soapEmulsionPressureCm2=s),placeholder:"кгс/см2"},null,8,["modelValue"]),e[38]||(e[38]=u(". ",-1))]),e[39]||(e[39]=l("p",null," Дефекты и утечки не обнаружены. Испытание на прочность газопровод выдержал. ",-1))]),l("li",null,[l("p",null,[r(a,{modelValue:t(o).checkDate2,"onUpdate:modelValue":e[11]||(e[11]=s=>t(o).checkDate2=s),type:"date"},null,8,["modelValue"]),e[40]||(e[40]=u(" Газопровод испытан на герметичность давлением воздуха ",-1)),r(a,{modelValue:t(o).waterColumn,"onUpdate:modelValue":e[12]||(e[12]=s=>t(o).waterColumn=s)},null,8,["modelValue"]),e[41]||(e[41]=u(" вод/ст. ",-1)),r(a,{modelValue:t(o).tightnessAirPressure,"onUpdate:modelValue":e[13]||(e[13]=s=>t(o).tightnessAirPressure=s)},null,8,["modelValue"]),e[42]||(e[42]=u(" МПа ",-1)),r(a,{modelValue:t(o).tightnessAirPressureCm2,"onUpdate:modelValue":e[14]||(e[14]=s=>t(o).tightnessAirPressureCm2=s)},null,8,["modelValue"]),e[43]||(e[43]=u(" кгс/см2 с подключением газовыми приборами. При испытании в течении ",-1)),r(a,{modelValue:t(o).tightnessDuration,"onUpdate:modelValue":e[15]||(e[15]=s=>t(o).tightnessDuration=s)},null,8,["modelValue"]),e[44]||(e[44]=u(" давление упало на ",-1)),r(a,{modelValue:t(o).tightnessPressureDrop,"onUpdate:modelValue":e[16]||(e[16]=s=>t(o).tightnessPressureDrop=s)},null,8,["modelValue"]),e[45]||(e[45]=u(" МПа ",-1)),r(a,{modelValue:t(o).tightnessPressureDropCm2,"onUpdate:modelValue":e[17]||(e[17]=s=>t(o).tightnessPressureDropCm2=s)},null,8,["modelValue"]),e[46]||(e[46]=u(" кгс/см2 при допустимом падении ",-1)),r(a,{modelValue:t(o).tightnessPermissiblePressureDrop,"onUpdate:modelValue":e[18]||(e[18]=s=>t(o).tightnessPermissiblePressureDrop=s)},null,8,["modelValue"]),e[47]||(e[47]=u(" вод/ст. ",-1)),r(a,{modelValue:t(o).tightnessPermissiblePressureDropCm2,"onUpdate:modelValue":e[19]||(e[19]=s=>t(o).tightnessPermissiblePressureDropCm2=s)},null,8,["modelValue"]),e[48]||(e[48]=u(" кгс/см2. ",-1))]),e[51]||(e[51]=l("p",null," Испытание на герметичность газопровод выдержал. ",-1)),l("div",Re,[e[49]||(e[49]=u("Производитель работ ",-1)),r(a,{modelValue:t(o).workSupervisor,"onUpdate:modelValue":e[20]||(e[20]=s=>t(o).workSupervisor=s),placeholder:"должность, инициалы, фамилия"},null,8,["modelValue"])]),l("div",Te,[e[50]||(e[50]=u("Представитель газового хозяйства ",-1)),r(a,{modelValue:t(o).gasRepresentative,"onUpdate:modelValue":e[21]||(e[21]=s=>t(o).gasRepresentative=s),placeholder:"должность, инициалы, фамилия"},null,8,["modelValue"])])])]),e[71]||(e[71]=l("h2",{class:"center"},"5. ЗАКЛЮЧЕНИЕ",-1)),e[72]||(e[72]=l("p",null,"Внутридомовое (внутрицеховое) газооборудование (включая газопровод и ГРУ) смонтировано в соответствии с проектом, разработанным",-1)),l("div",Ve,[r(a,{modelValue:t(o).organizationName,"onUpdate:modelValue":e[22]||(e[22]=s=>t(o).organizationName=s),placeholder:"Наименование проектной организации"},null,8,["modelValue"]),r(a,{modelValue:t(o).projectReleaseDate,"onUpdate:modelValue":e[23]||(e[23]=s=>t(o).projectReleaseDate=s),type:"date",placeholder:"Дата выпуска проекта"},null,8,["modelValue"])]),l("p",null,[e[53]||(e[53]=u("с учетом согласованных изменений, внесенных в рабочие чертежи № ",-1)),r(a,{modelValue:t(o).drawingNumber,"onUpdate:modelValue":e[24]||(e[24]=s=>t(o).drawingNumber=s),placeholder:"номер чертежа"},null,8,["modelValue"])]),l("p",null,[e[54]||(e[54]=u("Строительство начато ",-1)),r(a,{modelValue:t(o).buildStartDate,"onUpdate:modelValue":e[25]||(e[25]=s=>t(o).buildStartDate=s),type:"date"},null,8,["modelValue"])]),l("p",null,[e[55]||(e[55]=u("Строительство закончено ",-1)),r(a,{modelValue:t(o).buildEndDate,"onUpdate:modelValue":e[26]||(e[26]=s=>t(o).buildEndDate=s),type:"date"},null,8,["modelValue"])]),l("div",ge,[e[56]||(e[56]=u("Ведущий инженер СОВГО: ",-1)),r(a,{modelValue:t(o).engineerSOVGO,"onUpdate:modelValue":e[27]||(e[27]=s=>t(o).engineerSOVGO=s),placeholder:"должность, инициалы, фамилия"},null,8,["modelValue"])]),e[73]||(e[73]=l("p",{style:{"font-style":"italic","font-size":"14px",opacity:".6","line-height":"1.4em","margin-bottom":".8em"}}," Примечание: Если в цехе (котельной) имеются ГРУ, смонтировано в общем помещении цеха и обслуживающая только данный цех, то на внутрицеховой газопровод и ГРУ допускается составлять общий строительный паспорт. В том случае ниже приведенную форму паспорта должны быть внесены следующие изменения ",-1)),l("ol",ye,[e[58]||(e[58]=l("li",null,"в раздел 1 характеристика газооборудования цеха должна быть приведена по следующей форме:",-1)),l("table",Pe,[e[57]||(e[57]=l("thead",null,[l("tr",null,[l("td",{rowspan:"2"},"Общая протяженность газопровода цеха, м"),l("td",{colspan:"2"},"Давление газа МПа (кгс/см2)"),l("td",{colspan:"4"},"Оборудование ГРУ, тип, размер"),l("td",{colspan:"4"},"Газифицируемое оборудование (печи, котла, приборы, шт.)")]),l("tr",null,[l("td",null,"На входе P max"),l("td",null,"На выходе из ГРП (рабочее Р)"),l("td",null,"Регулятор давления"),l("td",null,"Клапан отключитель"),l("td",null,"Предохранительный сбросной клапан"),l("td",null,"Фильтр"),l("td"),l("td"),l("td"),l("td")])],-1)),l("tbody",null,[r(h,{modelValue:t($),"onUpdate:modelValue":e[28]||(e[28]=s=>N($)?$.value=s:null),n:11},null,8,["modelValue"])])]),e[59]||(e[59]=l("li",null,"в разделе 2,3,4 необходимо учесть ГРУ",-1)),e[60]||(e[60]=l("li",null,"дополнить паспорт разделом «Испытание ГРУ на прочность и герметичность»",-1)),e[61]||(e[61]=l("li",null,"в «Заключении» вместо слов «(включая газопровод)» следует написать «(включая газопровод и ГРУ)»",-1))])]),t(p)?(d(),f("div",De,S(t(p)),1)):D("",!0),l("div",ve,[r(K,{disabled:t(T),prependIcon:"mdi-content-save",style:{"font-size":"1.2em"},onClick:V},{default:Y(()=>[...e[74]||(e[74]=[u("Сохранить",-1)])]),_:1},8,["disabled"])])])]))}});export{Ee as default};
